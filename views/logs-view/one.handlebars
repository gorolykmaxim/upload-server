{{> navigation isLogsView=true }}
<div class="container">
    <h3 class="mt-3">{{path}}</h3>
    <input id="path" type="hidden" value="{{path}}">
    {{#unless isRestricted}}
        <a class="btn btn-danger mt-1" href="{{removeUrlTemplate}}?path={{path}}">Stop watching</a>
    {{/unless}}
    <div id="error-container" class="alert alert-danger d-none mt-1" role="alert"></div>
</div>
<div id="log-container" class="alert alert-secondary overflow-auto text-nowrap mt-1"></div>

<script type="application/javascript">
    $(document).ready(function () {
        var logPath = $('#path').val();
        var $logContainer = $('#log-container');
        var $errorContainer = $('#error-container');
        var logDisplayer = new LogDisplayer(logPath, $logContainer);
        logDisplayer.setErrorContainer($errorContainer);
        logDisplayer.autoscroll();
        logDisplayer.display();
    });
</script>
